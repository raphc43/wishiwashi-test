(function(){$(document.body).ready(function(){var e=function(e,t){var n=e+"";while(n.length<t)n="0"+n;return n},t=function(e){$(e+" .time-slot").click(function(t){$(this).hasClass("unavailable-slot")||($(e+" img.selected-slot-checkmark").remove(),$(e+" div.time-slot").removeClass("selected-slot"),$(this).addClass("selected-slot"),$(this).after('<img src="'+check_png+'" width="39" height="39" alt="" class="selected-slot-checkmark">'),$("input[name=time_slot]").attr("value",$(this).data("time")))})},n=function(){for(var e=0;e<calendar_grid.length;e++)for(var t=0;t<calendar_grid[e].time_slots.length;t++)if(calendar_grid[e].time_slots[t].available)return e;return 0}(),r=function(){if(parseInt(selected_day)>0)return parseInt(selected_day);for(var e=0;e<calendar_grid.length;e++)for(var t=0;t<calendar_grid[e].time_slots.length;t++)if(calendar_grid[e].time_slots[t].available)return e;return 0}(),i=r,s=function(n){$("#mobile .calendar-month-label").html(calendar_grid[n].month_name),$("#mobile .calendar-date-wrapper").html('<div class="day-of-week">'+calendar_grid[n].day_name+"</div>"+calendar_grid[n].day_of_month),$("#mobile .time-slots-wrapper").remove();for(var r=Math.ceil(calendar_grid[n].time_slots.length/2)-1;r>=0;r--){var i="",s="",o="";calendar_grid[n].time_slots[r*2]&&(i=calendar_grid[n].time_slots[r*2].label),calendar_grid[n].time_slots[r*2+1]&&(s=calendar_grid[n].time_slots[r*2+1].label),o='<div class="row time-slots-wrapper"><div class="col-xs-6"><div class="time-slot">'+i+"</div></div>",s!=""&&(o+='<div class="col-xs-6"><div class="time-slot">'+s+"</div></div>"),o+="</div>",$("#mobile .arrow-and-day-name-wrapper").after(o)}for(var r=0;r<calendar_grid[n].time_slots.length;r++){var u="#mobile .time-slot:eq("+r+")";calendar_grid[n].time_slots[r].available||$(u).addClass("unavailable-slot").unbind("click"),$(u).data("time",calendar_grid[n].date+" "+e(calendar_grid[n].time_slots[r].hour,2))}t("#mobile")},o=function(){$("#mobile_previous").click(function(e){e.preventDefault(),i>n&&(i--,s(i),$("#mobile_next").attr("disabled",!1),i==n&&$(this).attr("disabled",!0)),l($("input[name=time_slot]").attr("value"))}),$("#mobile_next").click(function(e){e.preventDefault(),i<calendar_grid.length-2&&(i++,s(i),$("#mobile_previous").attr("disabled",!1),i>=calendar_grid.length-2&&$(this).attr("disabled",!0)),l($("input[name=time_slot]").attr("value"))}),i==n&&$("#mobile_previous").attr("disabled",!0),i>=calendar_grid.length-2&&$("#mobile_next").attr("disabled",!0)},u=parseInt(selected_week),a=function(n){var r=new Array(6);for(var i=0;i<6;i++)r[i]=calendar_grid[i+n*6].month_name;r[2]==r[3]?$("#desktop div.calendar-month-label:eq(2)").html("<h2>"+r[2]+"</h2>"):$("#desktop div.calendar-month-label:eq(2)").html("&nbsp;"),r[0]==r[1]&&r[0]!=r[2]?$("#desktop div.calendar-month-label:eq(0)").html("<h2>"+r[0]+"</h2>"):$("#desktop div.calendar-month-label:eq(2)").html()=="&nbsp;"?$("#desktop div.calendar-month-label:eq(0)").html("<h2>"+r[0]+"</h2>"):$("#desktop div.calendar-month-label:eq(0)").html("&nbsp;"),r[4]!=r[2]?$("#desktop div.calendar-month-label:eq(4)").html("<h2>"+r[4]+"</h2>"):$("#desktop div.calendar-month-label:eq(4)").html("&nbsp;"),$("#desktop #date-labels-wrapper div.col-xs-2").remove();for(var i=5;i>=0;i--)$("#desktop #date-labels-wrapper p:eq(0)").after('<div class="col-xs-2"><div class="calendar-date-wrapper"><div class="day-of-week">'+calendar_grid[i+n*6].day_name+"</div>"+calendar_grid[i+n*6].day_of_month+"</div></div>");$("#desktop .time-slot-row-wrapper").remove();for(var s=0;s<calendar_grid[n*6].time_slots.length;s++)$("#desktop #date-labels-wrapper").after('<div class="row time-slot-row-wrapper">'+Array(7).join('<div class="col-xs-2"><div class="time-slot" data-time=""></div></div>')+"</div>");for(var i=0;i<6;i++)for(var s=0;s<calendar_grid[n*6].time_slots.length;s++){var o="#desktop div.time-slot-row-wrapper:eq("+s+") div.col-xs-2:eq("+i+") div.time-slot";$(o).html(calendar_grid[i+n*6].time_slots[s].label),$(o).data("time",calendar_grid[i+n*6].date+" "+e(calendar_grid[i+n*6].time_slots[s].hour),2),calendar_grid[i+n*6].time_slots[s].available||$(o).addClass("unavailable-slot").unbind("click")}t("#desktop")},f=function(){$("#desktop_previous").click(function(e){e.preventDefault(),u>0&&(u--,a(u),$("#desktop_next").attr("disabled",!1),u==0&&$(this).attr("disabled",!0)),l($("input[name=time_slot]").attr("value"))}),$("#desktop_next").click(function(e){e.preventDefault(),u<calendar_grid.length/6-1&&(u++,a(u),$("#desktop_previous").attr("disabled",!1),u>=calendar_grid.length/6-1&&$(this).attr("disabled",!0)),l($("input[name=time_slot]").attr("value"))}),u==0&&$("#desktop_previous").attr("disabled",!0),u>=calendar_grid.length/6-1&&$("#desktop_next").attr("disabled",!0)},l=function(e){$(".time-slot").each(function(t,n){$(n).data("time")==e&&($(n).addClass("selected-slot"),$(this).after('<img src="'+check_png+'" width="39" height="39" alt="" class="selected-slot-checkmark">'),$("input[name=time_slot]").attr("value",$(n).data("time")))})};a(u),f(),s(i),o(),calendar_grid.length<=6&&$("#desktop_next").attr("disabled",!0),typeof selected_date!="undefined"&&typeof selected_hour!="undefined"&&l(selected_date+" "+selected_hour)})}).call(this);
