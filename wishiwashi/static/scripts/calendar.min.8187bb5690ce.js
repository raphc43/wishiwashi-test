(function(){var e=React.createClass({displayName:"WeekDayBox",loadDataFromServer:function(){$.ajax({url:this.props.url,dataType:"json",cache:!1,success:function(e){this.setState({data:e})}.bind(this),error:function(e,t,n){console.error(this.props.url,t,n.toString())}.bind(this)})},getInitialState:function(){return{data:[]}},componentDidMount:function(){this.loadDataFromServer(),setInterval(this.loadDataFromServer,this.props.pollInterval)},render:function(){var e=[];for(i=0,row=0;i<this.props.hours.length;i++,row++)e.push(React.createElement(s,{data:this.state.data,key:"row"+i,days:this.props.days,row:row}));return React.createElement("div",{className:"container"},React.createElement(o,{days:this.props.days}),e)}}),t=React.createClass({displayName:"SlotEntry",render:function(){var e=this.props.day,t=this.props.row;return React.createElement("div",null,this.props.entries.map(function(n,r){var i={color:"white",fontWeight:"800",padding:"1px",margin:"1px"},s={color:"white"},o="/vendors/order/"+n.pk;if(n.collect){var u="Collect: ";i.backgroundColor="#FF8300";if(n.status===2||n.status===6)i.opacity=.5}else{var u="Deliver: ";i.backgroundColor="#06799F",n.status===6&&(i.opacity=.5)}return React.createElement("div",{key:"e5"+t+e+r,style:i,className:"row"},React.createElement("div",{className:"col-xs-12"},React.createElement("a",{target:"_blank",style:s,href:o},n.order)),React.createElement("div",{className:"col-xs-12"},u," ",n.postcode),React.createElement("div",{className:"col-xs-12"},React.createElement("small",null,n.status_display)))}))}}),n=React.createClass({displayName:"SlotEmpty",render:function(){var e=this.props.row+8,t=e+1,n=e+"-"+t,r={padding:"5px"};return this.props.day==5&&this.props.row>8?(r.backgroundColor="#CCCCCC",r.color="silver"):(r.backgroundColor="#00BB3F",r.color="#ffffff",r.fontWeight="800"),React.createElement("p",{style:r},n)}}),r=React.createClass({displayName:"Slot",render:function(){var e=!0,r=function(r,i,s){return typeof s[r]!="undefined"&&typeof s[r][i]!="undefined"&&s[r][i].length>0?(e=!1,React.createElement(t,{row:r,day:i,key:"entry"+r+","+i,entries:s[r][i]})):React.createElement(n,{row:r,day:i})};return React.createElement("div",{key:this.props.row+","+this.props.id,className:"col-xs-2 text-center"},r(this.props.row,this.props.id,this.props.data))}}),s=React.createClass({displayName:"SlotRow",render:function(){var e=this.props.row,t=this.props.data;return React.createElement("div",{className:"row"},React.createElement("hr",null),this.props.days.map(function(n){return React.createElement(r,{key:"slot-"+n.key+","+e,id:n.key,row:e,data:t})}))}}),o=React.createClass({displayName:"WeekDays",render:function(){return React.createElement("div",{className:"row"},this.props.days.map(function(e){return React.createElement("div",{key:e.key,className:"col-xs-2 text-center"},React.createElement("h1",null,e.display))}))}});React.render(React.createElement(e,{url:URL,pollInterval:POLL_INTERVAL,days:DAYS,hours:HOURS}),document.getElementById("content"))}).call(this);
