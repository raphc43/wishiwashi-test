(function(){var e=React.createClass({displayName:"WeekDayBox",loadDataFromServer:function(){$.ajax({url:this.props.url,dataType:"json",cache:!1,success:function(e){this.setState({data:e})}.bind(this),error:function(e,t,a){console.error(this.props.url,t,a.toString())}.bind(this)})},getInitialState:function(){return{data:[]}},componentDidMount:function(){this.loadDataFromServer(),setInterval(this.loadDataFromServer,this.props.pollInterval)},render:function(){var e=[];for(i=0,row=0;i<this.props.hours.length;i++,row++)e.push(React.createElement(s,{data:this.state.data,key:"row"+i,days:this.props.days,row:row}));return React.createElement("div",{className:"container"},React.createElement(o,{days:this.props.days}),e)}}),t=React.createClass({displayName:"SlotEntry",render:function(){var e=this.props.day,t=this.props.row;return React.createElement("div",null,this.props.entries.map(function(a,r){var s={color:"white",fontWeight:"800",padding:"1px",margin:"1px"},o={color:"white"},n="/vendors/order/"+a.pk;if(a.collect){var c="Collect: ";s.backgroundColor="#FF8300",2!==a.status&&6!==a.status||(s.opacity=.5)}else{var c="Deliver: ";s.backgroundColor="#06799F",6===a.status&&(s.opacity=.5)}return React.createElement("div",{key:"e5"+t+e+r,style:s,className:"row"},React.createElement("div",{className:"col-xs-12"},React.createElement("a",{target:"_blank",style:o,href:n},a.order)),React.createElement("div",{className:"col-xs-12"},c," ",a.postcode),React.createElement("div",{className:"col-xs-12"},React.createElement("small",null,a.status_display)))}))}}),a=React.createClass({displayName:"SlotEmpty",render:function(){var e=this.props.row+8,t=e+1,a=e+"-"+t,r={padding:"5px"};return 5==this.props.day&&this.props.row>8?(r.backgroundColor="#CCCCCC",r.color="silver"):(r.backgroundColor="#00BB3F",r.color="#ffffff",r.fontWeight="800"),this.props.past&&(r.opacity=.5),React.createElement("p",{style:r},a)}}),r=React.createClass({displayName:"Slot",render:function(){return React.createElement("div",{key:this.props.row+","+this.props.id,className:"col-xs-2 text-center"},function(e,r,s){if(void 0!==s[e]&&void 0!==s[e][r]&&null!==s[e][r]&&s[e][r].length>0)return React.createElement(t,{row:e,day:r,key:"entry"+e+","+r,entries:s[e][r]});var o=!1;return void 0!==s[e]&&(o=null===s[e][r]),React.createElement(a,{row:e,day:r,past:o})}(this.props.row,this.props.id,this.props.data))}}),s=React.createClass({displayName:"SlotRow",render:function(){var e=this.props.row,t=this.props.data;return React.createElement("div",{className:"row"},React.createElement("hr",null),this.props.days.map(function(a){return React.createElement(r,{key:"slot-"+a.key+","+e,id:a.key,row:e,data:t})}))}}),o=React.createClass({displayName:"WeekDays",render:function(){return React.createElement("div",{className:"row"},this.props.days.map(function(e){return React.createElement("div",{key:e.key,className:"col-xs-2 text-center"},React.createElement("h1",null,e.display))}))}});React.render(React.createElement(e,{url:URL,pollInterval:POLL_INTERVAL,days:DAYS,hours:HOURS}),document.getElementById("content"))}).call(this);
