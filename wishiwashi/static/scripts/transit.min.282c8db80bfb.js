(function(){$(document.body).ready(function(){var e=function(e,a){for(var t=e+"";t.length<a;)t="0"+t;return t},a=function(e){$(e+" .time-slot").click(function(a){$(this).hasClass("unavailable-slot")||($(e+" img.selected-slot-checkmark").remove(),$(e+" div.time-slot").removeClass("selected-slot"),$(this).addClass("selected-slot"),$(this).after('<img src="'+check_png+'" width="39" height="39" alt="" class="selected-slot-checkmark">'),$("input[name=time_slot]").attr("value",$(this).data("time")))})},t=function(){for(var e=0;e<calendar_grid.length;e++)for(var a=0;a<calendar_grid[e].time_slots.length;a++)if(calendar_grid[e].time_slots[a].available)return e;return 0}(),l=function(){if(parseInt(selected_day)>0)return parseInt(selected_day);for(var e=0;e<calendar_grid.length;e++)for(var a=0;a<calendar_grid[e].time_slots.length;a++)if(calendar_grid[e].time_slots[a].available)return e;return 0}(),d=l,i=function(t){$("#mobile .calendar-month-label").html(calendar_grid[t].month_name),$("#mobile .calendar-date-wrapper").html('<div class="day-of-week">'+calendar_grid[t].day_name+"</div>"+calendar_grid[t].day_of_month),$("#mobile .time-slots-wrapper").remove();for(var l=Math.ceil(calendar_grid[t].time_slots.length/2)-1;l>=0;l--){var d="",i="",r="";calendar_grid[t].time_slots[2*l]&&(d=calendar_grid[t].time_slots[2*l].label),calendar_grid[t].time_slots[2*l+1]&&(i=calendar_grid[t].time_slots[2*l+1].label),r='<div class="row time-slots-wrapper"><div class="col-xs-6"><div class="time-slot">'+d+"</div></div>",""!=i&&(r+='<div class="col-xs-6"><div class="time-slot">'+i+"</div></div>"),r+="</div>",$("#mobile .arrow-and-day-name-wrapper").after(r)}for(var l=0;l<calendar_grid[t].time_slots.length;l++){var s="#mobile .time-slot:eq("+l+")";calendar_grid[t].time_slots[l].available||$(s).addClass("unavailable-slot").unbind("click"),$(s).data("time",calendar_grid[t].date+" "+e(calendar_grid[t].time_slots[l].hour,2))}a("#mobile")},r=parseInt(selected_week),s=function(t){for(var l=new Array(6),d=0;d<6;d++)l[d]=calendar_grid[d+6*t].month_name;l[2]==l[3]?$("#desktop div.calendar-month-label:eq(2)").html("<h2>"+l[2]+"</h2>"):$("#desktop div.calendar-month-label:eq(2)").html("&nbsp;"),l[0]==l[1]&&l[0]!=l[2]?$("#desktop div.calendar-month-label:eq(0)").html("<h2>"+l[0]+"</h2>"):"&nbsp;"==$("#desktop div.calendar-month-label:eq(2)").html()?$("#desktop div.calendar-month-label:eq(0)").html("<h2>"+l[0]+"</h2>"):$("#desktop div.calendar-month-label:eq(0)").html("&nbsp;"),l[4]!=l[2]?$("#desktop div.calendar-month-label:eq(4)").html("<h2>"+l[4]+"</h2>"):$("#desktop div.calendar-month-label:eq(4)").html("&nbsp;"),$("#desktop #date-labels-wrapper div.col-xs-2").remove();for(var d=5;d>=0;d--)$("#desktop #date-labels-wrapper p:eq(0)").after('<div class="col-xs-2"><div class="calendar-date-wrapper"><div class="day-of-week">'+calendar_grid[d+6*t].day_name+"</div>"+calendar_grid[d+6*t].day_of_month+"</div></div>");$("#desktop .time-slot-row-wrapper").remove();for(var i=0;i<calendar_grid[6*t].time_slots.length;i++)$("#desktop #date-labels-wrapper").after('<div class="row time-slot-row-wrapper">'+Array(7).join('<div class="col-xs-2"><div class="time-slot" data-time=""></div></div>')+"</div>");for(var d=0;d<6;d++)for(var i=0;i<calendar_grid[6*t].time_slots.length;i++){var r="#desktop div.time-slot-row-wrapper:eq("+i+") div.col-xs-2:eq("+d+") div.time-slot";$(r).html(calendar_grid[d+6*t].time_slots[i].label),$(r).data("time",calendar_grid[d+6*t].date+" "+e(calendar_grid[d+6*t].time_slots[i].hour),2),calendar_grid[d+6*t].time_slots[i].available||$(r).addClass("unavailable-slot").unbind("click")}a("#desktop")},o=function(e){$(".time-slot").each(function(a,t){$(t).data("time")==e&&($(t).addClass("selected-slot"),$(this).after('<img src="'+check_png+'" width="39" height="39" alt="" class="selected-slot-checkmark">'),$("input[name=time_slot]").attr("value",$(t).data("time")))})};s(r),function(){$("#desktop_previous").click(function(e){e.preventDefault(),r>0&&(r--,s(r),$("#desktop_next").prop("disabled",!1),0==r&&$(this).prop("disabled",!0)),o($("input[name=time_slot]").attr("value"))}),$("#desktop_next").click(function(e){e.preventDefault(),r<calendar_grid.length/6-1&&(r++,s(r),$("#desktop_previous").prop("disabled",!1),r>=calendar_grid.length/6-1&&$(this).prop("disabled",!0)),o($("input[name=time_slot]").attr("value"))}),0==r&&$("#desktop_previous").prop("disabled",!0),r>=calendar_grid.length/6-1&&$("#desktop_next").prop("disabled",!0)}(),i(d),function(){$("#mobile_previous").click(function(e){e.preventDefault(),d>t&&(d--,i(d),$("#mobile_next").prop("disabled",!1),d==t&&$(this).prop("disabled",!0)),o($("input[name=time_slot]").attr("value"))}),$("#mobile_next").click(function(e){e.preventDefault(),d<calendar_grid.length-2&&(d++,i(d),$("#mobile_previous").prop("disabled",!1),d>=calendar_grid.length-2&&$(this).prop("disabled",!0)),o($("input[name=time_slot]").attr("value"))}),d==t&&$("#mobile_previous").prop("disabled",!0),d>=calendar_grid.length-2&&$("#mobile_next").prop("disabled",!0)}(),calendar_grid.length/6==1&&$("#desktop_next").prop("disabled",!0),"undefined"!=typeof selected_date&&"undefined"!=typeof selected_hour&&o(selected_date+" "+selected_hour)})}).call(this);
